import{c as G,f as v,h as w,C as W,_ as bt,$ as wt,r as T,I as dt,z as Oe,j as yt,g as Z,a as te,a0 as Qe,w as H,a1 as kt,o as fe,b as N,a2 as Ct,a3 as je,p as J,l as ne,a4 as xt,a5 as ze,a6 as ct,a7 as qt,d as St,a8 as Et,a9 as Mt,aa as De,ab as Bt,ac as _t,i as Rt,u as ue,Y as Ke,X as Ft,ad as $e,ae as Tt,v as Ne,af as we,G as At,ag as Vt,ah as Pt,ai as $t,aj as Lt}from"./index.ecc03bc8.js";var $n=G({name:"QToolbarTitle",props:{shrink:Boolean},setup(e,{slots:t}){const n=v(()=>"q-toolbar__title ellipsis"+(e.shrink===!0?" col-shrink":""));return()=>w("div",{class:n.value},W(t.default))}}),Ln=G({name:"QBtnGroup",props:{unelevated:Boolean,outline:Boolean,flat:Boolean,rounded:Boolean,square:Boolean,push:Boolean,stretch:Boolean,glossy:Boolean,spread:Boolean},setup(e,{slots:t}){const n=v(()=>{const l=["unelevated","outline","flat","rounded","square","push","stretch","glossy"].filter(o=>e[o]===!0).map(o=>`q-btn-group--${o}`).join(" ");return`q-btn-group row no-wrap${l.length!==0?" "+l:""}`+(e.spread===!0?" q-btn-group--spread":" inline")});return()=>w("div",{class:n.value},W(t.default))}}),On=G({name:"QToolbar",props:{inset:Boolean},setup(e,{slots:t}){const n=v(()=>"q-toolbar row no-wrap items-center"+(e.inset===!0?" q-toolbar--inset":""));return()=>w("div",{class:n.value,role:"toolbar"},W(t.default))}}),zn=G({name:"QItemLabel",props:{overline:Boolean,caption:Boolean,header:Boolean,lines:[Number,String]},setup(e,{slots:t}){const n=v(()=>parseInt(e.lines,10)),l=v(()=>"q-item__label"+(e.overline===!0?" q-item__label--overline text-overline":"")+(e.caption===!0?" q-item__label--caption text-caption":"")+(e.header===!0?" q-item__label--header":"")+(n.value===1?" ellipsis":"")),o=v(()=>e.lines!==void 0&&n.value>1?{overflow:"hidden",display:"-webkit-box","-webkit-box-orient":"vertical","-webkit-line-clamp":n.value}:null);return()=>w("div",{style:o.value,class:l.value},W(t.default))}}),Dn=G({name:"QItemSection",props:{avatar:Boolean,thumbnail:Boolean,side:Boolean,top:Boolean,noWrap:Boolean},setup(e,{slots:t}){const n=v(()=>`q-item__section column q-item__section--${e.avatar===!0||e.side===!0||e.thumbnail===!0?"side":"main"}`+(e.top===!0?" q-item__section--top justify-start":" justify-center")+(e.avatar===!0?" q-item__section--avatar":"")+(e.thumbnail===!0?" q-item__section--thumbnail":"")+(e.noWrap===!0?" q-item__section--nowrap":""));return()=>w("div",{class:n.value},W(t.default))}});const Ce={dark:{type:Boolean,default:null}};function xe(e,t){return v(()=>e.dark===null?t.dark.isActive:e.dark)}var In=G({name:"QItem",props:{...Ce,...bt,tag:{type:String,default:"div"},active:{type:Boolean,default:null},clickable:Boolean,dense:Boolean,insetLevel:Number,tabindex:[String,Number],focused:Boolean,manualFocus:Boolean},emits:["click","keyup"],setup(e,{slots:t,emit:n}){const{proxy:{$q:l}}=Z(),o=xe(e,l),{hasLink:d,linkAttrs:c,linkClass:m,linkTag:x,navigateOnClick:k}=wt(),h=T(null),p=T(null),I=v(()=>e.clickable===!0||d.value===!0||e.tag==="label"),R=v(()=>e.disable!==!0&&I.value===!0),L=v(()=>"q-item q-item-type row no-wrap"+(e.dense===!0?" q-item--dense":"")+(o.value===!0?" q-item--dark":"")+(d.value===!0&&e.active===null?m.value:e.active===!0?` q-item--active${e.activeClass!==void 0?` ${e.activeClass}`:""}`:"")+(e.disable===!0?" disabled":"")+(R.value===!0?" q-item--clickable q-link cursor-pointer "+(e.manualFocus===!0?"q-manual-focusable":"q-focusable q-hoverable")+(e.focused===!0?" q-manual-focusable--focused":""):"")),O=v(()=>{if(e.insetLevel===void 0)return null;const y=l.lang.rtl===!0?"Right":"Left";return{["padding"+y]:16+e.insetLevel*56+"px"}});function A(y){R.value===!0&&(p.value!==null&&(y.qKeyEvent!==!0&&document.activeElement===h.value?p.value.focus():document.activeElement===p.value&&h.value.focus()),k(y))}function j(y){if(R.value===!0&&dt(y,[13,32])===!0){Oe(y),y.qKeyEvent=!0;const K=new MouseEvent("click",y);K.qKeyEvent=!0,h.value.dispatchEvent(K)}n("keyup",y)}function g(){const y=yt(t.default,[]);return R.value===!0&&y.unshift(w("div",{class:"q-focus-helper",tabindex:-1,ref:p})),y}return()=>{const y={ref:h,class:L.value,style:O.value,role:"listitem",onClick:A,onKeyup:j};return R.value===!0?(y.tabindex=e.tabindex||"0",Object.assign(y,c.value)):I.value===!0&&(y["aria-disabled"]="true"),w(x.value,y,g())}}}),Hn=G({name:"QList",props:{...Ce,bordered:Boolean,dense:Boolean,separator:Boolean,padding:Boolean,tag:{type:String,default:"div"}},setup(e,{slots:t}){const n=Z(),l=xe(e,n.proxy.$q),o=v(()=>"q-list"+(e.bordered===!0?" q-list--bordered":"")+(e.dense===!0?" q-list--dense":"")+(e.separator===!0?" q-list--separator":"")+(l.value===!0?" q-list--dark":"")+(e.padding===!0?" q-list--padding":""));return()=>w(e.tag,{class:o.value},W(t.default))}});function Ot(e,t,n){let l;function o(){l!==void 0&&(Qe.remove(l),l=void 0)}return te(()=>{e.value===!0&&o()}),{removeFromHistory:o,addToHistory(){l={condition:()=>n.value===!0,handler:t},Qe.add(l)}}}const zt={modelValue:{type:Boolean,default:null},"onUpdate:modelValue":[Function,Array]},Dt=["beforeShow","show","beforeHide","hide"];function It({showing:e,canShow:t,hideOnRouteChange:n,handleShow:l,handleHide:o,processOnMount:d}){const c=Z(),{props:m,emit:x,proxy:k}=c;let h;function p(g){e.value===!0?L(g):I(g)}function I(g){if(m.disable===!0||g!==void 0&&g.qAnchorHandled===!0||t!==void 0&&t(g)!==!0)return;const y=m["onUpdate:modelValue"]!==void 0;y===!0&&(x("update:modelValue",!0),h=g,N(()=>{h===g&&(h=void 0)})),(m.modelValue===null||y===!1)&&R(g)}function R(g){e.value!==!0&&(e.value=!0,x("beforeShow",g),l!==void 0?l(g):x("show",g))}function L(g){if(m.disable===!0)return;const y=m["onUpdate:modelValue"]!==void 0;y===!0&&(x("update:modelValue",!1),h=g,N(()=>{h===g&&(h=void 0)})),(m.modelValue===null||y===!1)&&O(g)}function O(g){e.value!==!1&&(e.value=!1,x("beforeHide",g),o!==void 0?o(g):x("hide",g))}function A(g){m.disable===!0&&g===!0?m["onUpdate:modelValue"]!==void 0&&x("update:modelValue",!1):g===!0!==e.value&&(g===!0?R:O)(h)}H(()=>m.modelValue,A),n!==void 0&&kt(c)===!0&&H(()=>k.$route.fullPath,()=>{n.value===!0&&e.value===!0&&L()}),d===!0&&fe(()=>{A(m.modelValue)});const j={show:I,hide:L,toggle:p};return Object.assign(k,j),j}const Ht=[null,document,document.body,document.scrollingElement,document.documentElement];function Qn(e,t){let n=Ct(t);if(n===void 0){if(e==null)return window;n=e.closest(".scroll,.scroll-y,.overflow-auto")}return Ht.includes(n)?window:n}function Qt(e){return e===window?window.pageYOffset||window.scrollY||document.body.scrollTop||0:e.scrollTop}function jt(e){return e===window?window.pageXOffset||window.scrollX||document.body.scrollLeft||0:e.scrollLeft}let ve;function jn(){if(ve!==void 0)return ve;const e=document.createElement("p"),t=document.createElement("div");je(e,{width:"100%",height:"200px"}),je(t,{position:"absolute",top:"0px",left:"0px",visibility:"hidden",width:"200px",height:"150px",overflow:"hidden"}),t.appendChild(e),document.body.appendChild(t);const n=e.offsetWidth;t.style.overflow="scroll";let l=e.offsetWidth;return n===l&&(l=t.clientWidth),t.remove(),ve=n-l,ve}function Kt(e,t=!0){return!e||e.nodeType!==Node.ELEMENT_NODE?!1:t?e.scrollHeight>e.clientHeight&&(e.classList.contains("scroll")||e.classList.contains("overflow-auto")||["auto","scroll"].includes(window.getComputedStyle(e)["overflow-y"])):e.scrollWidth>e.clientWidth&&(e.classList.contains("scroll")||e.classList.contains("overflow-auto")||["auto","scroll"].includes(window.getComputedStyle(e)["overflow-x"]))}let se=0,Se,Ee,de,Me=!1,Ue,We,Ze,le=null;function Nt(e){Ut(e)&&Oe(e)}function Ut(e){if(e.target===document.body||e.target.classList.contains("q-layout__backdrop"))return!0;const t=xt(e),n=e.shiftKey&&!e.deltaX,l=!n&&Math.abs(e.deltaX)<=Math.abs(e.deltaY),o=n||l?e.deltaY:e.deltaX;for(let d=0;d<t.length;d++){const c=t[d];if(Kt(c,l))return l?o<0&&c.scrollTop===0?!0:o>0&&c.scrollTop+c.clientHeight===c.scrollHeight:o<0&&c.scrollLeft===0?!0:o>0&&c.scrollLeft+c.clientWidth===c.scrollWidth}return!0}function Ye(e){e.target===document&&(document.scrollingElement.scrollTop=document.scrollingElement.scrollTop)}function me(e){Me!==!0&&(Me=!0,requestAnimationFrame(()=>{Me=!1;const{height:t}=e.target,{clientHeight:n,scrollTop:l}=document.scrollingElement;(de===void 0||t!==window.innerHeight)&&(de=n-t,document.scrollingElement.scrollTop=l),l>de&&(document.scrollingElement.scrollTop-=Math.ceil((l-de)/8))}))}function Ge(e){const t=document.body,n=window.visualViewport!==void 0;if(e==="add"){const{overflowY:l,overflowX:o}=window.getComputedStyle(t);Se=jt(window),Ee=Qt(window),Ue=t.style.left,We=t.style.top,Ze=window.location.href,t.style.left=`-${Se}px`,t.style.top=`-${Ee}px`,o!=="hidden"&&(o==="scroll"||t.scrollWidth>window.innerWidth)&&t.classList.add("q-body--force-scrollbar-x"),l!=="hidden"&&(l==="scroll"||t.scrollHeight>window.innerHeight)&&t.classList.add("q-body--force-scrollbar-y"),t.classList.add("q-body--prevent-scroll"),document.qScrollPrevented=!0,J.is.ios===!0&&(n===!0?(window.scrollTo(0,0),window.visualViewport.addEventListener("resize",me,ne.passiveCapture),window.visualViewport.addEventListener("scroll",me,ne.passiveCapture),window.scrollTo(0,0)):window.addEventListener("scroll",Ye,ne.passiveCapture))}J.is.desktop===!0&&J.is.mac===!0&&window[`${e}EventListener`]("wheel",Nt,ne.notPassive),e==="remove"&&(J.is.ios===!0&&(n===!0?(window.visualViewport.removeEventListener("resize",me,ne.passiveCapture),window.visualViewport.removeEventListener("scroll",me,ne.passiveCapture)):window.removeEventListener("scroll",Ye,ne.passiveCapture)),t.classList.remove("q-body--prevent-scroll"),t.classList.remove("q-body--force-scrollbar-x"),t.classList.remove("q-body--force-scrollbar-y"),document.qScrollPrevented=!1,t.style.left=Ue,t.style.top=We,window.location.href===Ze&&window.scrollTo(Se,Ee),de=void 0)}function Wt(e){let t="add";if(e===!0){if(se++,le!==null){clearTimeout(le),le=null;return}if(se>1)return}else{if(se===0||(se--,se>0))return;if(t="remove",J.is.ios===!0&&J.is.nativeMobile===!0){le!==null&&clearTimeout(le),le=setTimeout(()=>{Ge(t),le=null},100);return}}Ge(t)}function Zt(){let e;return{preventBodyScroll(t){t!==e&&(e!==void 0||t===!0)&&(e=t,Wt(t))}}}function Yt(){let e=null;const t=Z();function n(){e!==null&&(clearTimeout(e),e=null)}return ze(n),te(n),{removeTimeout:n,registerTimeout(l,o){n(),ct(t)===!1&&(e=setTimeout(l,o))}}}function Kn(){if(window.getSelection!==void 0){const e=window.getSelection();e.empty!==void 0?e.empty():e.removeAllRanges!==void 0&&(e.removeAllRanges(),qt.is.mobile!==!0&&e.addRange(document.createRange()))}else document.selection!==void 0&&document.selection.empty()}const Xe=["B","KB","MB","GB","TB","PB"];function Nn(e){let t=0;for(;parseInt(e,10)>=1024&&t<Xe.length-1;)e/=1024,++t;return`${e.toFixed(1)}${Xe[t]}`}function Un(e,t,n){return n<=t?t:Math.min(n,Math.max(t,e))}var Wn=G({name:"QCardSection",props:{tag:{type:String,default:"div"},horizontal:Boolean},setup(e,{slots:t}){const n=v(()=>`q-card__section q-card__section--${e.horizontal===!0?"horiz row no-wrap":"vert"}`);return()=>w(e.tag,{class:n.value},W(t.default))}});function Gt({validate:e,resetValidation:t,requiresQForm:n}){const l=St(Et,!1);if(l!==!1){const{props:o,proxy:d}=Z();Object.assign(d,{validate:e,resetValidation:t}),H(()=>o.disable,c=>{c===!0?(typeof t=="function"&&t(),l.unbindComponent(d)):l.bindComponent(d)}),fe(()=>{o.disable!==!0&&l.bindComponent(d)}),te(()=>{o.disable!==!0&&l.unbindComponent(d)})}else n===!0&&console.error("Parent QForm not found on useFormChild()!")}const Je=/^#[0-9a-fA-F]{3}([0-9a-fA-F]{3})?$/,et=/^#[0-9a-fA-F]{4}([0-9a-fA-F]{4})?$/,tt=/^#([0-9a-fA-F]{3}|[0-9a-fA-F]{4}|[0-9a-fA-F]{6}|[0-9a-fA-F]{8})$/,ge=/^rgb\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5])\)$/,he=/^rgba\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),(0|0\.[0-9]+[1-9]|0\.[1-9]+|1)\)$/,Be={date:e=>/^-?[\d]+\/[0-1]\d\/[0-3]\d$/.test(e),time:e=>/^([0-1]?\d|2[0-3]):[0-5]\d$/.test(e),fulltime:e=>/^([0-1]?\d|2[0-3]):[0-5]\d:[0-5]\d$/.test(e),timeOrFulltime:e=>/^([0-1]?\d|2[0-3]):[0-5]\d(:[0-5]\d)?$/.test(e),email:e=>/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e),hexColor:e=>Je.test(e),hexaColor:e=>et.test(e),hexOrHexaColor:e=>tt.test(e),rgbColor:e=>ge.test(e),rgbaColor:e=>he.test(e),rgbOrRgbaColor:e=>ge.test(e)||he.test(e),hexOrRgbColor:e=>Je.test(e)||ge.test(e),hexaOrRgbaColor:e=>et.test(e)||he.test(e),anyColor:e=>tt.test(e)||ge.test(e)||he.test(e)},Xt=[!0,!1,"ondemand"],Jt={modelValue:{},error:{type:Boolean,default:null},errorMessage:String,noErrorIcon:Boolean,rules:Array,reactiveRules:Boolean,lazyRules:{type:[Boolean,String],default:!1,validator:e=>Xt.includes(e)}};function en(e,t){const{props:n,proxy:l}=Z(),o=T(!1),d=T(null),c=T(null);Gt({validate:L,resetValidation:R});let m=0,x;const k=v(()=>n.rules!==void 0&&n.rules!==null&&n.rules.length!==0),h=v(()=>n.disable!==!0&&k.value===!0&&t.value===!1),p=v(()=>n.error===!0||o.value===!0),I=v(()=>typeof n.errorMessage=="string"&&n.errorMessage.length!==0?n.errorMessage:d.value);H(()=>n.modelValue,()=>{c.value=!0,h.value===!0&&n.lazyRules===!1&&O()}),H(()=>n.reactiveRules,A=>{A===!0?x===void 0&&(x=H(()=>n.rules,()=>{h.value===!0&&c.value===!0&&n.lazyRules!=="ondemand"&&O()},{immediate:!0})):x!==void 0&&(x(),x=void 0)},{immediate:!0}),H(()=>n.lazyRules,A=>{A===!1&&h.value===!0&&c.value===!0&&O()}),H(e,A=>{A===!0?c.value===null&&(c.value=n.lazyRules===!0):h.value===!0&&(n.lazyRules===!1||n.lazyRules===!0&&c.value===!0)&&O()});function R(){m++,t.value=!1,c.value=null,o.value=!1,d.value=null,O.cancel()}function L(A=n.modelValue){if(n.disable===!0||k.value===!1)return!0;const j=++m,g=t.value!==!0?()=>{c.value=!0}:()=>{},y=(P,$)=>{P===!0&&g(),o.value=P,d.value=$||null,t.value=!1},K=[];for(let P=0;P<n.rules.length;P++){const $=n.rules[P];let _;if(typeof $=="function"?_=$(A,Be):typeof $=="string"&&Be[$]!==void 0&&(_=Be[$](A)),_===!1||typeof _=="string")return y(!0,_),!1;_!==!0&&_!==void 0&&K.push(_)}return K.length===0?(y(!1),!0):(t.value=!0,Promise.all(K).then(P=>{if(P===void 0||Array.isArray(P)===!1||P.length===0)return j===m&&y(!1),!0;const $=P.find(_=>_===!1||typeof _=="string");return j===m&&y($!==void 0,$),$===void 0},P=>(j===m&&(console.error(P),y(!0)),!1)))}const O=Mt(L,0);return te(()=>{x!==void 0&&x(),O.cancel()}),Object.assign(l,{resetValidation:R,validate:L}),De(l,"hasError",()=>p.value),{isDirtyModel:c,hasRules:k,hasError:p,errorMessage:I,validate:L,resetValidation:R}}const nt=/^on[A-Z]/;function tn(e,t){const n={listeners:T({}),attributes:T({})};function l(){const o={},d={};for(const c in e)c!=="class"&&c!=="style"&&nt.test(c)===!1&&(o[c]=e[c]);for(const c in t.props)nt.test(c)===!0&&(d[c]=t.props[c]);n.attributes.value=o,n.listeners.value=d}return Bt(l),l(),n}let _e,pe=0;const Q=new Array(256);for(let e=0;e<256;e++)Q[e]=(e+256).toString(16).substring(1);const nn=(()=>{const e=typeof crypto!="undefined"?crypto:typeof window!="undefined"?window.crypto||window.msCrypto:void 0;if(e!==void 0){if(e.randomBytes!==void 0)return e.randomBytes;if(e.getRandomValues!==void 0)return t=>{const n=new Uint8Array(t);return e.getRandomValues(n),n}}return t=>{const n=[];for(let l=t;l>0;l--)n.push(Math.floor(Math.random()*256));return n}})(),lt=4096;function ft(){(_e===void 0||pe+16>lt)&&(pe=0,_e=nn(lt));const e=Array.prototype.slice.call(_e,pe,pe+=16);return e[6]=e[6]&15|64,e[8]=e[8]&63|128,Q[e[0]]+Q[e[1]]+Q[e[2]]+Q[e[3]]+"-"+Q[e[4]]+Q[e[5]]+"-"+Q[e[6]]+Q[e[7]]+"-"+Q[e[8]]+Q[e[9]]+"-"+Q[e[10]]+Q[e[11]]+Q[e[12]]+Q[e[13]]+Q[e[14]]+Q[e[15]]}let oe=[],ce=[];function vt(e){ce=ce.filter(t=>t!==e)}function ln(e){vt(e),ce.push(e)}function ot(e){vt(e),ce.length===0&&oe.length!==0&&(oe[oe.length-1](),oe=[])}function Ie(e){ce.length===0?e():oe.push(e)}function on(e){oe=oe.filter(t=>t!==e)}function mt(e,t){return e===void 0?t===!0?`f_${ft()}`:void 0:e}function Le(e){return e!=null&&(""+e).length!==0}const an={...Ce,...Jt,label:String,stackLabel:Boolean,hint:String,hideHint:Boolean,prefix:String,suffix:String,labelColor:String,color:String,bgColor:String,filled:Boolean,outlined:Boolean,borderless:Boolean,standout:[Boolean,String],square:Boolean,loading:Boolean,labelSlot:Boolean,bottomSlots:Boolean,hideBottomSpace:Boolean,rounded:Boolean,dense:Boolean,itemAligned:Boolean,counter:Boolean,clearable:Boolean,clearIcon:String,disable:Boolean,readonly:Boolean,autofocus:Boolean,for:String,maxlength:[Number,String]},rn=["update:modelValue","clear","focus","blur","popupShow","popupHide"];function un({requiredForAttr:e=!0,tagProp:t}={}){const{props:n,attrs:l,proxy:o,vnode:d}=Z(),c=xe(n,o.$q);return{requiredForAttr:e,tag:t===!0?v(()=>n.tag):{value:"label"},isDark:c,editable:v(()=>n.disable!==!0&&n.readonly!==!0),innerLoading:T(!1),focused:T(!1),hasPopupOpen:!1,splitAttrs:tn(l,d),targetUid:T(mt(n.for,e)),rootRef:T(null),targetRef:T(null),controlRef:T(null)}}function sn(e){const{props:t,emit:n,slots:l,attrs:o,proxy:d}=Z(),{$q:c}=d;let m=null;e.hasValue===void 0&&(e.hasValue=v(()=>Le(t.modelValue))),e.emitValue===void 0&&(e.emitValue=a=>{n("update:modelValue",a)}),e.controlEvents===void 0&&(e.controlEvents={onFocusin:u,onFocusout:r}),Object.assign(e,{clearValue:f,onControlFocusin:u,onControlFocusout:r,focus:_}),e.computedCounter===void 0&&(e.computedCounter=v(()=>{if(t.counter!==!1){const a=typeof t.modelValue=="string"||typeof t.modelValue=="number"?(""+t.modelValue).length:Array.isArray(t.modelValue)===!0?t.modelValue.length:0,S=t.maxlength!==void 0?t.maxlength:t.maxValues;return a+(S!==void 0?" / "+S:"")}}));const{isDirtyModel:x,hasRules:k,hasError:h,errorMessage:p,resetValidation:I}=en(e.focused,e.innerLoading),R=e.floatingLabel!==void 0?v(()=>t.stackLabel===!0||e.focused.value===!0||e.floatingLabel.value===!0):v(()=>t.stackLabel===!0||e.focused.value===!0||e.hasValue.value===!0),L=v(()=>t.bottomSlots===!0||t.hint!==void 0||k.value===!0||t.counter===!0||t.error!==null),O=v(()=>t.filled===!0?"filled":t.outlined===!0?"outlined":t.borderless===!0?"borderless":t.standout?"standout":"standard"),A=v(()=>`q-field row no-wrap items-start q-field--${O.value}`+(e.fieldClass!==void 0?` ${e.fieldClass.value}`:"")+(t.rounded===!0?" q-field--rounded":"")+(t.square===!0?" q-field--square":"")+(R.value===!0?" q-field--float":"")+(g.value===!0?" q-field--labeled":"")+(t.dense===!0?" q-field--dense":"")+(t.itemAligned===!0?" q-field--item-aligned q-item-type":"")+(e.isDark.value===!0?" q-field--dark":"")+(e.getControl===void 0?" q-field--auto-height":"")+(e.focused.value===!0?" q-field--focused":"")+(h.value===!0?" q-field--error":"")+(h.value===!0||e.focused.value===!0?" q-field--highlighted":"")+(t.hideBottomSpace!==!0&&L.value===!0?" q-field--with-bottom":"")+(t.disable===!0?" q-field--disabled":t.readonly===!0?" q-field--readonly":"")),j=v(()=>"q-field__control relative-position row no-wrap"+(t.bgColor!==void 0?` bg-${t.bgColor}`:"")+(h.value===!0?" text-negative":typeof t.standout=="string"&&t.standout.length!==0&&e.focused.value===!0?` ${t.standout}`:t.color!==void 0?` text-${t.color}`:"")),g=v(()=>t.labelSlot===!0||t.label!==void 0),y=v(()=>"q-field__label no-pointer-events absolute ellipsis"+(t.labelColor!==void 0&&h.value!==!0?` text-${t.labelColor}`:"")),K=v(()=>({id:e.targetUid.value,editable:e.editable.value,focused:e.focused.value,floatingLabel:R.value,modelValue:t.modelValue,emitValue:e.emitValue})),P=v(()=>{const a={for:e.targetUid.value};return t.disable===!0&&(a["aria-disabled"]="true"),a});H(()=>t.for,a=>{e.targetUid.value=mt(a,e.requiredForAttr)});function $(){const a=document.activeElement;let S=e.targetRef!==void 0&&e.targetRef.value;S&&(a===null||a.id!==e.targetUid.value)&&(S.hasAttribute("tabindex")===!0||(S=S.querySelector("[tabindex]")),S&&S!==a&&S.focus({preventScroll:!0}))}function _(){Ie($)}function ee(){on($);const a=document.activeElement;a!==null&&e.rootRef.value.contains(a)&&a.blur()}function u(a){m!==null&&(clearTimeout(m),m=null),e.editable.value===!0&&e.focused.value===!1&&(e.focused.value=!0,n("focus",a))}function r(a,S){m!==null&&clearTimeout(m),m=setTimeout(()=>{m=null,!(document.hasFocus()===!0&&(e.hasPopupOpen===!0||e.controlRef===void 0||e.controlRef.value===null||e.controlRef.value.contains(document.activeElement)!==!1))&&(e.focused.value===!0&&(e.focused.value=!1,n("blur",a)),S!==void 0&&S())})}function f(a){Oe(a),c.platform.is.mobile!==!0?(e.targetRef!==void 0&&e.targetRef.value||e.rootRef.value).focus():e.rootRef.value.contains(document.activeElement)===!0&&document.activeElement.blur(),t.type==="file"&&(e.inputRef.value.value=null),n("update:modelValue",null),n("clear",t.modelValue),N(()=>{I(),c.platform.is.mobile!==!0&&(x.value=!1)})}function s(){const a=[];return l.prepend!==void 0&&a.push(w("div",{class:"q-field__prepend q-field__marginal row no-wrap items-center",key:"prepend",onClick:ue},l.prepend())),a.push(w("div",{class:"q-field__control-container col relative-position row no-wrap q-anchor--skip"},E())),h.value===!0&&t.noErrorIcon===!1&&a.push(F("error",[w(Ke,{name:c.iconSet.field.error,color:"negative"})])),t.loading===!0||e.innerLoading.value===!0?a.push(F("inner-loading-append",l.loading!==void 0?l.loading():[w(Ft,{color:t.color})])):t.clearable===!0&&e.hasValue.value===!0&&e.editable.value===!0&&a.push(F("inner-clearable-append",[w(Ke,{class:"q-field__focusable-action",tag:"button",name:t.clearIcon||c.iconSet.field.clear,tabindex:0,type:"button","aria-hidden":null,role:null,onClick:f})])),l.append!==void 0&&a.push(w("div",{class:"q-field__append q-field__marginal row no-wrap items-center",key:"append",onClick:ue},l.append())),e.getInnerAppend!==void 0&&a.push(F("inner-append",e.getInnerAppend())),e.getControlChild!==void 0&&a.push(e.getControlChild()),a}function E(){const a=[];return t.prefix!==void 0&&t.prefix!==null&&a.push(w("div",{class:"q-field__prefix no-pointer-events row items-center"},t.prefix)),e.getShadowControl!==void 0&&e.hasShadow.value===!0&&a.push(e.getShadowControl()),e.getControl!==void 0?a.push(e.getControl()):l.rawControl!==void 0?a.push(l.rawControl()):l.control!==void 0&&a.push(w("div",{ref:e.targetRef,class:"q-field__native row",tabindex:-1,...e.splitAttrs.attributes.value,"data-autofocus":t.autofocus===!0||void 0},l.control(K.value))),g.value===!0&&a.push(w("div",{class:y.value},W(l.label,t.label))),t.suffix!==void 0&&t.suffix!==null&&a.push(w("div",{class:"q-field__suffix no-pointer-events row items-center"},t.suffix)),a.concat(W(l.default))}function q(){let a,S;h.value===!0?p.value!==null?(a=[w("div",{role:"alert"},p.value)],S=`q--slot-error-${p.value}`):(a=W(l.error),S="q--slot-error"):(t.hideHint!==!0||e.focused.value===!0)&&(t.hint!==void 0?(a=[w("div",t.hint)],S=`q--slot-hint-${t.hint}`):(a=W(l.hint),S="q--slot-hint"));const U=t.counter===!0||l.counter!==void 0;if(t.hideBottomSpace===!0&&U===!1&&a===void 0)return;const M=w("div",{key:S,class:"q-field__messages col"},a);return w("div",{class:"q-field__bottom row items-start q-field__bottom--"+(t.hideBottomSpace!==!0?"animated":"stale"),onClick:ue},[t.hideBottomSpace===!0?M:w($e,{name:"q-transition--field-message"},()=>M),U===!0?w("div",{class:"q-field__counter"},l.counter!==void 0?l.counter():e.computedCounter.value):null])}function F(a,S){return S===null?null:w("div",{key:a,class:"q-field__append q-field__marginal row no-wrap items-center q-anchor--skip"},S)}let C=!1;return ze(()=>{C=!0}),_t(()=>{C===!0&&t.autofocus===!0&&d.focus()}),fe(()=>{Rt.value===!0&&e.requiredForAttr===!0&&t.for===void 0&&(e.targetUid.value=`f_${ft()}`),t.autofocus===!0&&d.focus()}),te(()=>{m!==null&&clearTimeout(m)}),Object.assign(d,{focus:_,blur:ee}),function(){const S=e.getControl===void 0&&l.control===void 0?{...e.splitAttrs.attributes.value,"data-autofocus":t.autofocus===!0||void 0,...P.value}:P.value;return w(e.tag.value,{ref:e.rootRef,class:[A.value,o.class],style:o.style,...S},[l.before!==void 0?w("div",{class:"q-field__before q-field__marginal row no-wrap items-center",onClick:ue},l.before()):null,w("div",{class:"q-field__inner relative-position col self-stretch"},[w("div",{ref:e.controlRef,class:j.value,tabindex:-1,...e.controlEvents},s()),L.value===!0?q():null]),l.after!==void 0?w("div",{class:"q-field__after q-field__marginal row no-wrap items-center",onClick:ue},l.after()):null])}}const at={date:"####/##/##",datetime:"####/##/## ##:##",time:"##:##",fulltime:"##:##:##",phone:"(###) ### - ####",card:"#### #### #### ####"},ke={"#":{pattern:"[\\d]",negate:"[^\\d]"},S:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]"},N:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]"},A:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleUpperCase()},a:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleLowerCase()},X:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleUpperCase()},x:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleLowerCase()}},gt=Object.keys(ke);gt.forEach(e=>{ke[e].regex=new RegExp(ke[e].pattern)});const dn=new RegExp("\\\\([^.*+?^${}()|([\\]])|([.*+?^${}()|[\\]])|(["+gt.join("")+"])|(.)","g"),it=/[.*+?^${}()|[\]\\]/g,D=String.fromCharCode(1),cn={mask:String,reverseFillMask:Boolean,fillMask:[Boolean,String],unmaskedValue:Boolean};function fn(e,t,n,l){let o,d,c,m,x,k;const h=T(null),p=T(R());function I(){return e.autogrow===!0||["textarea","text","search","url","tel","password"].includes(e.type)}H(()=>e.type+e.autogrow,O),H(()=>e.mask,u=>{if(u!==void 0)A(p.value,!0);else{const r=_(p.value);O(),e.modelValue!==r&&t("update:modelValue",r)}}),H(()=>e.fillMask+e.reverseFillMask,()=>{h.value===!0&&A(p.value,!0)}),H(()=>e.unmaskedValue,()=>{h.value===!0&&A(p.value)});function R(){if(O(),h.value===!0){const u=P(_(e.modelValue));return e.fillMask!==!1?ee(u):u}return e.modelValue}function L(u){if(u<o.length)return o.slice(-u);let r="",f=o;const s=f.indexOf(D);if(s>-1){for(let E=u-f.length;E>0;E--)r+=D;f=f.slice(0,s)+r+f.slice(s)}return f}function O(){if(h.value=e.mask!==void 0&&e.mask.length!==0&&I(),h.value===!1){m=void 0,o="",d="";return}const u=at[e.mask]===void 0?e.mask:at[e.mask],r=typeof e.fillMask=="string"&&e.fillMask.length!==0?e.fillMask.slice(0,1):"_",f=r.replace(it,"\\$&"),s=[],E=[],q=[];let F=e.reverseFillMask===!0,C="",a="";u.replace(dn,(z,i,V,Y,b)=>{if(Y!==void 0){const B=ke[Y];q.push(B),a=B.negate,F===!0&&(E.push("(?:"+a+"+)?("+B.pattern+"+)?(?:"+a+"+)?("+B.pattern+"+)?"),F=!1),E.push("(?:"+a+"+)?("+B.pattern+")?")}else if(V!==void 0)C="\\"+(V==="\\"?"":V),q.push(V),s.push("([^"+C+"]+)?"+C+"?");else{const B=i!==void 0?i:b;C=B==="\\"?"\\\\\\\\":B.replace(it,"\\\\$&"),q.push(B),s.push("([^"+C+"]+)?"+C+"?")}});const S=new RegExp("^"+s.join("")+"("+(C===""?".":"[^"+C+"]")+"+)?"+(C===""?"":"["+C+"]*")+"$"),U=E.length-1,M=E.map((z,i)=>i===0&&e.reverseFillMask===!0?new RegExp("^"+f+"*"+z):i===U?new RegExp("^"+z+"("+(a===""?".":a)+"+)?"+(e.reverseFillMask===!0?"$":f+"*")):new RegExp("^"+z));c=q,m=z=>{const i=S.exec(e.reverseFillMask===!0?z:z.slice(0,q.length+1));i!==null&&(z=i.slice(1).join(""));const V=[],Y=M.length;for(let b=0,B=z;b<Y;b++){const X=M[b].exec(B);if(X===null)break;B=B.slice(X.shift().length),V.push(...X)}return V.length!==0?V.join(""):z},o=q.map(z=>typeof z=="string"?z:D).join(""),d=o.split(D).join(r)}function A(u,r,f){const s=l.value,E=s.selectionEnd,q=s.value.length-E,F=_(u);r===!0&&O();const C=P(F),a=e.fillMask!==!1?ee(C):C,S=p.value!==a;s.value!==a&&(s.value=a),S===!0&&(p.value=a),document.activeElement===s&&N(()=>{if(a===d){const M=e.reverseFillMask===!0?d.length:0;s.setSelectionRange(M,M,"forward");return}if(f==="insertFromPaste"&&e.reverseFillMask!==!0){const M=s.selectionEnd;let z=E-1;for(let i=x;i<=z&&i<M;i++)o[i]!==D&&z++;g.right(s,z);return}if(["deleteContentBackward","deleteContentForward"].indexOf(f)>-1){const M=e.reverseFillMask===!0?E===0?a.length>C.length?1:0:Math.max(0,a.length-(a===d?0:Math.min(C.length,q)+1))+1:E;s.setSelectionRange(M,M,"forward");return}if(e.reverseFillMask===!0)if(S===!0){const M=Math.max(0,a.length-(a===d?0:Math.min(C.length,q+1)));M===1&&E===1?s.setSelectionRange(M,M,"forward"):g.rightReverse(s,M)}else{const M=a.length-q;s.setSelectionRange(M,M,"backward")}else if(S===!0){const M=Math.max(0,o.indexOf(D),Math.min(C.length,E)-1);g.right(s,M)}else{const M=E-1;g.right(s,M)}});const U=e.unmaskedValue===!0?_(a):a;String(e.modelValue)!==U&&(e.modelValue!==null||U!=="")&&n(U,!0)}function j(u,r,f){const s=P(_(u.value));r=Math.max(0,o.indexOf(D),Math.min(s.length,r)),x=r,u.setSelectionRange(r,f,"forward")}const g={left(u,r){const f=o.slice(r-1).indexOf(D)===-1;let s=Math.max(0,r-1);for(;s>=0;s--)if(o[s]===D){r=s,f===!0&&r++;break}if(s<0&&o[r]!==void 0&&o[r]!==D)return g.right(u,0);r>=0&&u.setSelectionRange(r,r,"backward")},right(u,r){const f=u.value.length;let s=Math.min(f,r+1);for(;s<=f;s++)if(o[s]===D){r=s;break}else o[s-1]===D&&(r=s);if(s>f&&o[r-1]!==void 0&&o[r-1]!==D)return g.left(u,f);u.setSelectionRange(r,r,"forward")},leftReverse(u,r){const f=L(u.value.length);let s=Math.max(0,r-1);for(;s>=0;s--)if(f[s-1]===D){r=s;break}else if(f[s]===D&&(r=s,s===0))break;if(s<0&&f[r]!==void 0&&f[r]!==D)return g.rightReverse(u,0);r>=0&&u.setSelectionRange(r,r,"backward")},rightReverse(u,r){const f=u.value.length,s=L(f),E=s.slice(0,r+1).indexOf(D)===-1;let q=Math.min(f,r+1);for(;q<=f;q++)if(s[q-1]===D){r=q,r>0&&E===!0&&r--;break}if(q>f&&s[r-1]!==void 0&&s[r-1]!==D)return g.leftReverse(u,f);u.setSelectionRange(r,r,"forward")}};function y(u){t("click",u),k=void 0}function K(u){if(t("keydown",u),Tt(u)===!0||u.altKey===!0)return;const r=l.value,f=r.selectionStart,s=r.selectionEnd;if(u.shiftKey||(k=void 0),u.keyCode===37||u.keyCode===39){u.shiftKey&&k===void 0&&(k=r.selectionDirection==="forward"?f:s);const E=g[(u.keyCode===39?"right":"left")+(e.reverseFillMask===!0?"Reverse":"")];if(u.preventDefault(),E(r,k===f?s:f),u.shiftKey){const q=r.selectionStart;r.setSelectionRange(Math.min(k,q),Math.max(k,q),"forward")}}else u.keyCode===8&&e.reverseFillMask!==!0&&f===s?(g.left(r,f),r.setSelectionRange(r.selectionStart,s,"backward")):u.keyCode===46&&e.reverseFillMask===!0&&f===s&&(g.rightReverse(r,s),r.setSelectionRange(f,r.selectionEnd,"forward"))}function P(u){if(u==null||u==="")return"";if(e.reverseFillMask===!0)return $(u);const r=c;let f=0,s="";for(let E=0;E<r.length;E++){const q=u[f],F=r[E];if(typeof F=="string")s+=F,q===F&&f++;else if(q!==void 0&&F.regex.test(q))s+=F.transform!==void 0?F.transform(q):q,f++;else return s}return s}function $(u){const r=c,f=o.indexOf(D);let s=u.length-1,E="";for(let q=r.length-1;q>=0&&s>-1;q--){const F=r[q];let C=u[s];if(typeof F=="string")E=F+E,C===F&&s--;else if(C!==void 0&&F.regex.test(C))do E=(F.transform!==void 0?F.transform(C):C)+E,s--,C=u[s];while(f===q&&C!==void 0&&F.regex.test(C));else return E}return E}function _(u){return typeof u!="string"||m===void 0?typeof u=="number"?m(""+u):u:m(u)}function ee(u){return d.length-u.length<=0?u:e.reverseFillMask===!0&&u.length!==0?d.slice(0,-u.length)+u:u+d.slice(u.length)}return{innerValue:p,hasMask:h,moveCursorForPaste:j,updateMaskValue:A,onMaskedKeydown:K,onMaskedClick:y}}const vn={name:String};function mn(e){return v(()=>e.name||e.for)}function gn(e,t){function n(){const l=e.modelValue;try{const o="DataTransfer"in window?new DataTransfer:"ClipboardEvent"in window?new ClipboardEvent("").clipboardData:void 0;return Object(l)===l&&("length"in l?Array.from(l):[l]).forEach(d=>{o.items.add(d)}),{files:o.files}}catch{return{files:void 0}}}return t===!0?v(()=>{if(e.type==="file")return n()}):v(n)}const hn=/[\u3000-\u303f\u3040-\u309f\u30a0-\u30ff\uff00-\uff9f\u4e00-\u9faf\u3400-\u4dbf]/,pn=/[\u4e00-\u9fff\u3400-\u4dbf\u{20000}-\u{2a6df}\u{2a700}-\u{2b73f}\u{2b740}-\u{2b81f}\u{2b820}-\u{2ceaf}\uf900-\ufaff\u3300-\u33ff\ufe30-\ufe4f\uf900-\ufaff\u{2f800}-\u{2fa1f}]/u,bn=/[\u3131-\u314e\u314f-\u3163\uac00-\ud7a3]/,wn=/[a-z0-9_ -]$/i;function yn(e){return function(n){if(n.type==="compositionend"||n.type==="change"){if(n.target.qComposing!==!0)return;n.target.qComposing=!1,e(n)}else n.type==="compositionupdate"&&n.target.qComposing!==!0&&typeof n.data=="string"&&(J.is.firefox===!0?wn.test(n.data)===!1:hn.test(n.data)===!0||pn.test(n.data)===!0||bn.test(n.data)===!0)===!0&&(n.target.qComposing=!0)}}var Zn=G({name:"QInput",inheritAttrs:!1,props:{...an,...cn,...vn,modelValue:{required:!1},shadowText:String,type:{type:String,default:"text"},debounce:[String,Number],autogrow:Boolean,inputClass:[Array,String,Object],inputStyle:[Array,String,Object]},emits:[...rn,"paste","change","keydown","click","animationend"],setup(e,{emit:t,attrs:n}){const{proxy:l}=Z(),{$q:o}=l,d={};let c=NaN,m,x,k=null,h;const p=T(null),I=mn(e),{innerValue:R,hasMask:L,moveCursorForPaste:O,updateMaskValue:A,onMaskedKeydown:j,onMaskedClick:g}=fn(e,t,C,p),y=gn(e,!0),K=v(()=>Le(R.value)),P=yn(q),$=un(),_=v(()=>e.type==="textarea"||e.autogrow===!0),ee=v(()=>_.value===!0||["text","search","url","tel","password"].includes(e.type)),u=v(()=>{const i={...$.splitAttrs.listeners.value,onInput:q,onPaste:E,onChange:S,onBlur:U,onFocus:Ne};return i.onCompositionstart=i.onCompositionupdate=i.onCompositionend=P,L.value===!0&&(i.onKeydown=j,i.onClick=g),e.autogrow===!0&&(i.onAnimationend=F),i}),r=v(()=>{const i={tabindex:0,"data-autofocus":e.autofocus===!0||void 0,rows:e.type==="textarea"?6:void 0,"aria-label":e.label,name:I.value,...$.splitAttrs.attributes.value,id:$.targetUid.value,maxlength:e.maxlength,disabled:e.disable===!0,readonly:e.readonly===!0};return _.value===!1&&(i.type=e.type),e.autogrow===!0&&(i.rows=1),i});H(()=>e.type,()=>{p.value&&(p.value.value=e.modelValue)}),H(()=>e.modelValue,i=>{if(L.value===!0){if(x===!0&&(x=!1,String(i)===c))return;A(i)}else R.value!==i&&(R.value=i,e.type==="number"&&d.hasOwnProperty("value")===!0&&(m===!0?m=!1:delete d.value));e.autogrow===!0&&N(a)}),H(()=>e.autogrow,i=>{i===!0?N(a):p.value!==null&&n.rows>0&&(p.value.style.height="auto")}),H(()=>e.dense,()=>{e.autogrow===!0&&N(a)});function f(){Ie(()=>{const i=document.activeElement;p.value!==null&&p.value!==i&&(i===null||i.id!==$.targetUid.value)&&p.value.focus({preventScroll:!0})})}function s(){p.value!==null&&p.value.select()}function E(i){if(L.value===!0&&e.reverseFillMask!==!0){const V=i.target;O(V,V.selectionStart,V.selectionEnd)}t("paste",i)}function q(i){if(!i||!i.target)return;if(e.type==="file"){t("update:modelValue",i.target.files);return}const V=i.target.value;if(i.target.qComposing===!0){d.value=V;return}if(L.value===!0)A(V,!1,i.inputType);else if(C(V),ee.value===!0&&i.target===document.activeElement){const{selectionStart:Y,selectionEnd:b}=i.target;Y!==void 0&&b!==void 0&&N(()=>{i.target===document.activeElement&&V.indexOf(i.target.value)===0&&i.target.setSelectionRange(Y,b)})}e.autogrow===!0&&a()}function F(i){t("animationend",i),a()}function C(i,V){h=()=>{k=null,e.type!=="number"&&d.hasOwnProperty("value")===!0&&delete d.value,e.modelValue!==i&&c!==i&&(c=i,V===!0&&(x=!0),t("update:modelValue",i),N(()=>{c===i&&(c=NaN)})),h=void 0},e.type==="number"&&(m=!0,d.value=i),e.debounce!==void 0?(k!==null&&clearTimeout(k),d.value=i,k=setTimeout(h,e.debounce)):h()}function a(){requestAnimationFrame(()=>{const i=p.value;if(i!==null){const V=i.parentNode.style,{scrollTop:Y}=i,{overflowY:b,maxHeight:B}=o.platform.is.firefox===!0?{}:window.getComputedStyle(i),X=b!==void 0&&b!=="scroll";X===!0&&(i.style.overflowY="hidden"),V.marginBottom=i.scrollHeight-1+"px",i.style.height="1px",i.style.height=i.scrollHeight+"px",X===!0&&(i.style.overflowY=parseInt(B,10)<i.scrollHeight?"auto":"hidden"),V.marginBottom="",i.scrollTop=Y}})}function S(i){P(i),k!==null&&(clearTimeout(k),k=null),h!==void 0&&h(),t("change",i.target.value)}function U(i){i!==void 0&&Ne(i),k!==null&&(clearTimeout(k),k=null),h!==void 0&&h(),m=!1,x=!1,delete d.value,e.type!=="file"&&setTimeout(()=>{p.value!==null&&(p.value.value=R.value!==void 0?R.value:"")})}function M(){return d.hasOwnProperty("value")===!0?d.value:R.value!==void 0?R.value:""}te(()=>{U()}),fe(()=>{e.autogrow===!0&&a()}),Object.assign($,{innerValue:R,fieldClass:v(()=>`q-${_.value===!0?"textarea":"input"}`+(e.autogrow===!0?" q-textarea--autogrow":"")),hasShadow:v(()=>e.type!=="file"&&typeof e.shadowText=="string"&&e.shadowText.length!==0),inputRef:p,emitValue:C,hasValue:K,floatingLabel:v(()=>K.value===!0&&(e.type!=="number"||isNaN(R.value)===!1)||Le(e.displayValue)),getControl:()=>w(_.value===!0?"textarea":"input",{ref:p,class:["q-field__native q-placeholder",e.inputClass],style:e.inputStyle,...r.value,...u.value,...e.type!=="file"?{value:M()}:y.value}),getShadowControl:()=>w("div",{class:"q-field__native q-field__shadow absolute-bottom no-pointer-events"+(_.value===!0?"":" text-no-wrap")},[w("span",{class:"invisible"},M()),w("span",e.shadowText)])});const z=sn($);return Object.assign(l,{focus:f,select:s,getNativeElement:()=>p.value}),De(l,"nativeEl",()=>p.value),z}}),Yn=G({name:"QCard",props:{...Ce,tag:{type:String,default:"div"},square:Boolean,flat:Boolean,bordered:Boolean},setup(e,{slots:t}){const{proxy:{$q:n}}=Z(),l=xe(e,n),o=v(()=>"q-card"+(l.value===!0?" q-card--dark q-dark":"")+(e.bordered===!0?" q-card--bordered":"")+(e.square===!0?" q-card--square no-border-radius":"")+(e.flat===!0?" q-card--flat no-shadow":""));return()=>w(e.tag,{class:o.value},W(t.default))}});function kn(){let e;const t=Z();function n(){e=void 0}return ze(n),te(n),{removeTick:n,registerTick(l){e=l,N(()=>{e===l&&(ct(t)===!1&&e(),e=void 0)})}}}const Cn={transitionShow:{type:String,default:"fade"},transitionHide:{type:String,default:"fade"},transitionDuration:{type:[String,Number],default:300}};function xn(e,t=()=>{},n=()=>{}){return{transitionProps:v(()=>{const l=`q-transition--${e.transitionShow||t()}`,o=`q-transition--${e.transitionHide||n()}`;return{appear:!0,enterFromClass:`${l}-enter-from`,enterActiveClass:`${l}-enter-active`,enterToClass:`${l}-enter-to`,leaveFromClass:`${o}-leave-from`,leaveActiveClass:`${o}-leave-active`,leaveToClass:`${o}-leave-to`}}),transitionStyle:v(()=>`--q-transition-duration: ${e.transitionDuration}ms`)}}const ye=[];function Gn(e){return ye.find(t=>t.contentEl!==null&&t.contentEl.contains(e))}function qn(e,t){do{if(e.$options.name==="QMenu"){if(e.hide(t),e.$props.separateClosePopup===!0)return we(e)}else if(e.__qPortal===!0){const n=we(e);return n!==void 0&&n.$options.name==="QPopupProxy"?(e.hide(t),n):e}e=we(e)}while(e!=null)}function Xn(e,t,n){for(;n!==0&&e!==void 0&&e!==null;){if(e.__qPortal===!0){if(n--,e.$options.name==="QMenu"){e=qn(e,t);continue}e.hide(t)}e=we(e)}}function Sn(e){for(e=e.parent;e!=null;){if(e.type.name==="QGlobalDialog")return!0;if(e.type.name==="QDialog"||e.type.name==="QMenu")return!1;e=e.parent}return!1}function En(e,t,n,l){const o=T(!1),d=T(!1);let c=null;const m={},x=l==="dialog"&&Sn(e);function k(p){if(p===!0){ot(m),d.value=!0;return}d.value=!1,o.value===!1&&(x===!1&&c===null&&(c=Pt(!1,l)),o.value=!0,ye.push(e.proxy),ln(m))}function h(p){if(d.value=!1,p!==!0)return;ot(m),o.value=!1;const I=ye.indexOf(e.proxy);I!==-1&&ye.splice(I,1),c!==null&&($t(c),c=null)}return At(()=>{h(!0)}),e.proxy.__qPortal=!0,De(e.proxy,"contentEl",()=>t.value),{showPortal:k,hidePortal:h,portalIsActive:o,portalIsAccessible:d,renderPortal:()=>x===!0?n():o.value===!0?[w(Vt,{to:c},n())]:void 0}}const ae=[];let re;function Mn(e){re=e.keyCode===27}function Bn(){re===!0&&(re=!1)}function _n(e){re===!0&&(re=!1,dt(e,27)===!0&&ae[ae.length-1](e))}function ht(e){window[e]("keydown",Mn),window[e]("blur",Bn),window[e]("keyup",_n),re=!1}function Rn(e){J.is.desktop===!0&&(ae.push(e),ae.length===1&&ht("addEventListener"))}function rt(e){const t=ae.indexOf(e);t>-1&&(ae.splice(t,1),ae.length===0&&ht("removeEventListener"))}const ie=[];function pt(e){ie[ie.length-1](e)}function Fn(e){J.is.desktop===!0&&(ie.push(e),ie.length===1&&document.body.addEventListener("focusin",pt))}function ut(e){const t=ie.indexOf(e);t>-1&&(ie.splice(t,1),ie.length===0&&document.body.removeEventListener("focusin",pt))}let be=0;const Tn={standard:"fixed-full flex-center",top:"fixed-top justify-center",bottom:"fixed-bottom justify-center",right:"fixed-right items-center",left:"fixed-left items-center"},st={standard:["scale","scale"],top:["slide-down","slide-up"],bottom:["slide-up","slide-down"],right:["slide-left","slide-right"],left:["slide-right","slide-left"]};var Jn=G({name:"QDialog",inheritAttrs:!1,props:{...zt,...Cn,transitionShow:String,transitionHide:String,persistent:Boolean,autoClose:Boolean,allowFocusOutside:Boolean,noEscDismiss:Boolean,noBackdropDismiss:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,noShake:Boolean,seamless:Boolean,maximized:Boolean,fullWidth:Boolean,fullHeight:Boolean,square:Boolean,position:{type:String,default:"standard",validator:e=>e==="standard"||["top","bottom","left","right"].includes(e)}},emits:[...Dt,"shake","click","escapeKey"],setup(e,{slots:t,emit:n,attrs:l}){const o=Z(),d=T(null),c=T(!1),m=T(!1);let x=null,k=null,h,p;const I=v(()=>e.persistent!==!0&&e.noRouteDismiss!==!0&&e.seamless!==!0),{preventBodyScroll:R}=Zt(),{registerTimeout:L}=Yt(),{registerTick:O,removeTick:A}=kn(),{transitionProps:j,transitionStyle:g}=xn(e,()=>st[e.position][0],()=>st[e.position][1]),{showPortal:y,hidePortal:K,portalIsAccessible:P,renderPortal:$}=En(o,d,Y,"dialog"),{hide:_}=It({showing:c,hideOnRouteChange:I,handleShow:q,handleHide:F,processOnMount:!0}),{addToHistory:ee,removeFromHistory:u}=Ot(c,_,I),r=v(()=>`q-dialog__inner flex no-pointer-events q-dialog__inner--${e.maximized===!0?"maximized":"minimized"} q-dialog__inner--${e.position} ${Tn[e.position]}`+(m.value===!0?" q-dialog__inner--animating":"")+(e.fullWidth===!0?" q-dialog__inner--fullwidth":"")+(e.fullHeight===!0?" q-dialog__inner--fullheight":"")+(e.square===!0?" q-dialog__inner--square":"")),f=v(()=>c.value===!0&&e.seamless!==!0),s=v(()=>e.autoClose===!0?{onClick:z}:{}),E=v(()=>[`q-dialog fullscreen no-pointer-events q-dialog--${f.value===!0?"modal":"seamless"}`,l.class]);H(()=>e.maximized,b=>{c.value===!0&&M(b)}),H(f,b=>{R(b),b===!0?(Fn(V),Rn(S)):(ut(V),rt(S))});function q(b){ee(),k=e.noRefocus===!1&&document.activeElement!==null?document.activeElement:null,M(e.maximized),y(),m.value=!0,e.noFocus!==!0?(document.activeElement!==null&&document.activeElement.blur(),O(C)):A(),L(()=>{if(o.proxy.$q.platform.is.ios===!0){if(e.seamless!==!0&&document.activeElement){const{top:B,bottom:X}=document.activeElement.getBoundingClientRect(),{innerHeight:He}=window,qe=window.visualViewport!==void 0?window.visualViewport.height:He;B>0&&X>qe/2&&(document.scrollingElement.scrollTop=Math.min(document.scrollingElement.scrollHeight-qe,X>=He?1/0:Math.ceil(document.scrollingElement.scrollTop+X-qe/2))),document.activeElement.scrollIntoView()}p=!0,d.value.click(),p=!1}y(!0),m.value=!1,n("show",b)},e.transitionDuration)}function F(b){A(),u(),U(!0),m.value=!0,K(),k!==null&&(((b&&b.type.indexOf("key")===0?k.closest('[tabindex]:not([tabindex^="-"])'):void 0)||k).focus(),k=null),L(()=>{K(!0),m.value=!1,n("hide",b)},e.transitionDuration)}function C(b){Ie(()=>{let B=d.value;B===null||B.contains(document.activeElement)===!0||(B=(b!==""?B.querySelector(b):null)||B.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||B.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||B.querySelector("[autofocus], [data-autofocus]")||B,B.focus({preventScroll:!0}))})}function a(b){b&&typeof b.focus=="function"?b.focus({preventScroll:!0}):C(),n("shake");const B=d.value;B!==null&&(B.classList.remove("q-animate--scale"),B.classList.add("q-animate--scale"),x!==null&&clearTimeout(x),x=setTimeout(()=>{x=null,d.value!==null&&(B.classList.remove("q-animate--scale"),C())},170))}function S(){e.seamless!==!0&&(e.persistent===!0||e.noEscDismiss===!0?e.maximized!==!0&&e.noShake!==!0&&a():(n("escapeKey"),_()))}function U(b){x!==null&&(clearTimeout(x),x=null),(b===!0||c.value===!0)&&(M(!1),e.seamless!==!0&&(R(!1),ut(V),rt(S))),b!==!0&&(k=null)}function M(b){b===!0?h!==!0&&(be<1&&document.body.classList.add("q-body--dialog"),be++,h=!0):h===!0&&(be<2&&document.body.classList.remove("q-body--dialog"),be--,h=!1)}function z(b){p!==!0&&(_(b),n("click",b))}function i(b){e.persistent!==!0&&e.noBackdropDismiss!==!0?_(b):e.noShake!==!0&&a()}function V(b){e.allowFocusOutside!==!0&&P.value===!0&&Lt(d.value,b.target)!==!0&&C('[tabindex]:not([tabindex="-1"])')}Object.assign(o.proxy,{focus:C,shake:a,__updateRefocusTarget(b){k=b||null}}),te(U);function Y(){return w("div",{role:"dialog","aria-modal":f.value===!0?"true":"false",...l,class:E.value},[w($e,{name:"q-transition--fade",appear:!0},()=>f.value===!0?w("div",{class:"q-dialog__backdrop fixed-full",style:g.value,"aria-hidden":"true",tabindex:-1,onClick:i}):null),w($e,j.value,()=>c.value===!0?w("div",{ref:d,class:r.value,style:g.value,tabindex:-1,...s.value},W(t.default)):null)])}return $}});const Re=T({id:"",name:"",avatar:""});function An(){return globalThis.addEventListener("pd::pipe::processed",async e=>{const t=e.detail.children;t&&(t.add||t.archive)&&rmcore.process({children:{activate:{}}}).then(n=>{Re.value=n.data})}),fe(async()=>{rmcore.process({children:{activate:{}}}).then(e=>{if(e.errors){console.error(e.errors);return}else Re.value=e.data})}),{activeChild:Re}}const Fe=T(!1),Te=T(!1),Ae=T(!1),Ve=T(!1),Pe=T(!1);function Vn(){return{showAddRewardForm:Fe,showAddChildForm:Te,showPointsManager:Pe,showEditRewardForm:Ae,showEditChildForm:Ve,toggleAddRewardForm:()=>{Fe.value=!1,N(()=>{Fe.value=!0})},toggleAddChildForm:()=>{Te.value=!1,N(()=>{Te.value=!0})},toggleEditRewardForm:e=>{Ae.value=!1,N(()=>{const t=new URLSearchParams(window.location.search);t.set("rewardid",e),window.history.replaceState({},"",`${window.location.pathname}?${t.toString()}`),Ae.value=!0})},toggleEditChildForm:()=>{Ve.value=!1,N(()=>{Ve.value=!0})},togglePointsManager:()=>{Pe.value=!1,N(()=>{Pe.value=!0})}}}function el(){const{activeChild:e}=An(),t=Vn(),n=[{name:"Add Child",icon:"mdi-human-child",command:t.toggleAddChildForm},{name:"Edit Child",icon:"mdi-pencil",command:t.toggleEditChildForm},{name:"Add Reward",icon:"mdi-gift",description:"Add Reward",command:t.toggleAddRewardForm},{name:"Edit Reward",icon:"mdi-pencil",command:async()=>{const{state:o}=await globalThis.rmcore.process();l.value=o.rewards.getForChild(e.value.id).map(d=>({name:d.name,icon:"mdi-gift",command:async()=>{t.toggleEditRewardForm(d.id)}}))}},{name:"Switch Child",icon:"mdi-swap-horizontal",command:async()=>{const{state:o}=await globalThis.rmcore.process();l.value=o.children.allLatest().map(d=>({name:d.name,icon:"mdi-human-child",command:async()=>{await globalThis.rmcore.process({children:{activate:d}}),dispatchEvent(new CustomEvent("child-changed"))}}))}},{name:"Change Points",icon:"mdi-plus",command:t.togglePointsManager}],l=T(n);return{commands:l,addCommand:o=>{l.value.push(o)}}}export{Dn as A,ye as B,Cn as C,kn as D,xn as E,En as F,Fn as G,ut as H,rt as I,Ie as J,qn as K,Rn as L,an as M,vn as N,rn as O,un as P,On as Q,mn as R,gn as S,sn as T,Le as U,Nn as V,An as W,Vn as X,Ce as a,Dt as b,Kn as c,xe as d,Yt as e,It as f,Ot as g,Un as h,Zt as i,Qn as j,Qt as k,jt as l,jn as m,Gn as n,Xn as o,el as p,$n as q,Ln as r,Hn as s,zn as t,zt as u,Jn as v,Yn as w,Wn as x,Zn as y,In as z};
